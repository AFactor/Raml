<!DOCTYPE HTML><html><head><title>Products Pipeline API documentation</title><meta http-equiv=X-UA-Compatible content="IE=edge"><meta http-equiv=Content-Type content="text/html; charset=utf-8"><meta name=generator content="https://github.com/kevinrenskers/raml2html 0.30.0"><link rel=stylesheet href=http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css><link rel=stylesheet href=http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/default.min.css><script type=text/javascript src=http://code.jquery.com/jquery-1.11.0.min.js></script><script type=text/javascript src=http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js></script><script type=text/javascript src=http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js></script><script type=text/javascript>
        $(document).ready(function() {
            $('.page-header pre code, .top-resource-description pre code').each(function(i, block) {
                hljs.highlightBlock(block);
            });

            $('[data-toggle]').click(function() {
                var selector = $(this).data('target') + ' pre code';
                $(selector).each(function(i, block) {
                    hljs.highlightBlock(block);
                });
            });
        });
    </script><style>
        .hljs {
            background: transparent;
        }
        .parent {
            color: #999;
        }
        .list-group-item > .badge {
            float: none;
            margin-right: 6px;
        }
        .panel-title > .methods {
            float: right;
        }
        .badge {
            border-radius: 0;
            text-transform: uppercase;
            width: 70px;
            font-weight: normal;
            color: #f3f3f6;
            line-height: normal;
        }
        .badge_get {
            background-color: #63a8e2;
        }
        .badge_post {
            background-color: #6cbd7d;
        }
        .badge_put {
            background-color: #22bac4;
        }
        .badge_delete {
            background-color: #d26460;
        }
        .list-group, .panel-group {
            margin-bottom: 0;
        }
        .panel-group .panel+.panel-white {
            margin-top: 0;
        }
        .panel-group .panel-white {
            border-bottom: 1px solid #F5F5F5;
            border-radius: 0;
        }
        .panel-white:last-child {
            border-bottom-color: white;
            -webkit-box-shadow: none;
            box-shadow: none;
        }
        .panel-white .panel-heading {
            background: white;
        }
        .tab-pane ul {
            padding-left: 2em;
        }
        .tab-pane h2 {
            font-size: 1.2em;
            padding-bottom: 4px;
            border-bottom: 1px solid #ddd;
        }
        .tab-pane h3 {
            font-size: 1.1em;
        }
        .tab-content {
            border-left: 1px solid #ddd;
            border-right: 1px solid #ddd;
            border-bottom: 1px solid #ddd;
            padding: 10px;
        }
        #sidebar {
            margin-top: 30px;
        }
        .top-resource-description {
            border-bottom: 1px solid #ddd;
            background: #fcfcfc;
            padding: 15px 15px 0 15px;
            margin: -15px -15px 10px -15px;
        }
        .resource-description {
            border-bottom: 1px solid #fcfcfc;
            background: #fcfcfc;
            padding: 15px 15px 0 15px;
            margin: -15px -15px 10px -15px;
        }
        .panel > .panel-body > .panel-group > .panel:first-child .resource-description {
            display: none;
        }
        .list-group .badge {
            float: left;
        }
        .method_description {
            margin-left: 85px;
        }
        .method_description p:last-child {
            margin: 0;
        }
    </style></head><body data-spy=scroll data-target=#sidebar><div class=container><div class=row><div class=col-md-9 role=main><div class=page-header><h1>Products Pipeline API documentation <small>version v1</small></h1><p>http://pipeline.tesco.com/v1</p></div><div class="panel panel-default"><div class=panel-heading><h3 id=__region__products_ class=panel-title>/{region}/products/</h3></div><div class=panel-body><div class=panel-group><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel___region__products_><span class=parent></span>/{region}/products/</a> <span class=methods><a href=# data-toggle=modal data-target=#__region__products__get><span class="badge badge_get">get</span></a></span></h4></div><div id=panel___region__products_ class="panel-collapse collapse"><div class=panel-body><div class=list-group><a href=# data-toggle=modal data-target=#__region__products__get class=list-group-item><span class="badge badge_get">get</span><div class=method_description><p>The purpose of this endpoint is to search for product info based on certain keys. Key could be a delimited string of TPNBs, TPNCs, GTINs, Taxonomy IDs, etc. Extended product information needed for product detail is not captured here. There is a separate endpoint for that.</p><p>Examples:</p><ol><li><p>Fetch Products based on TPNC and sort by price - high to low:<br><a href="http://pipeline.tesco.com/v1/gb/products?key=677000+572367&amp;keyType=TPNC&amp;orderBy=priceAZ">http://pipeline.tesco.com/v1/gb/products?key=677000+572367&amp;keyType=TPNC&amp;orderBy=priceAZ</a></p></li><li><p>Fetch Products based on Taxonomy ID:<br><a href="http://pipeline.tesco.com/v1/gb/products?key=4294793660&amp;keyType=TAXONOMY_ID">http://pipeline.tesco.com/v1/gb/products?key=4294793660&amp;keyType=TAXONOMY_ID</a> (sort order: default)</p></li></ol><p>Based on the current design this pipe will call range, product, price, promotion and productList (if logged in user) service to aggregate the result. In future, it may also call digital content service.</p><p>The schema below represents product schema. The idl will always return an array of products. The array of products schema is part of RAML repository.</p><p>Implementation will focus on individual exception scenarios in much more detail with relevant http status codes. However the error details will confirm to the schema outlined.</p></div><div class=clearfix></div></a></div></div></div><div class="modal fade" tabindex=0 id=__region__products__get><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_get">get</span> <span class=parent></span>/{region}/products/</h4></div><div class=modal-body><div class="alert alert-info"><p>The purpose of this endpoint is to search for product info based on certain keys. Key could be a delimited string of TPNBs, TPNCs, GTINs, Taxonomy IDs, etc. Extended product information needed for product detail is not captured here. There is a separate endpoint for that.</p><p>Examples:</p><ol><li><p>Fetch Products based on TPNC and sort by price - high to low:<br><a href="http://pipeline.tesco.com/v1/gb/products?key=677000+572367&amp;keyType=TPNC&amp;orderBy=priceAZ">http://pipeline.tesco.com/v1/gb/products?key=677000+572367&amp;keyType=TPNC&amp;orderBy=priceAZ</a></p></li><li><p>Fetch Products based on Taxonomy ID:<br><a href="http://pipeline.tesco.com/v1/gb/products?key=4294793660&amp;keyType=TAXONOMY_ID">http://pipeline.tesco.com/v1/gb/products?key=4294793660&amp;keyType=TAXONOMY_ID</a> (sort order: default)</p></li></ol><p>Based on the current design this pipe will call range, product, price, promotion and productList (if logged in user) service to aggregate the result. In future, it may also call digital content service.</p><p>The schema below represents product schema. The idl will always return an array of products. The array of products schema is part of RAML repository.</p><p>Implementation will focus on individual exception scenarios in much more detail with relevant http status codes. However the error details will confirm to the schema outlined.</p></div><ul class="nav nav-tabs"><li class=active><a href=#__region__products__get_request data-toggle=tab>Request</a></li><li><a href=#__region__products__get_response data-toggle=tab>Response</a></li></ul><div class=tab-content><div class="tab-pane active" id=__region__products__get_request><h3>URI Parameters</h3><ul><li><strong>region</strong>: <em>required (string)</em></li></ul><h3>Headers</h3><ul><li><strong>Proxy-Authorization</strong>: <em>(string)</em><p><small><strong>Example</strong>:<pre><code>d2b2a2a8-2adc-4492-88af-774df475b9fd</code></pre></small></p></li><li><strong>user-agent</strong>: <em>(string)</em><p><small><strong>Example</strong>:<pre><code>Mozilla/5.0 (iPad; CPU OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53</code></pre></small></p></li><li><strong>Accept-Language</strong>: <em>(string)</em><p><small><strong>Example</strong>:<pre><code>en-GB</code></pre></small></p></li><li><strong>Accept</strong>: <em>(string)</em><p><small><strong>Example</strong>:<pre><code>text/json</code></pre></small></p></li><li><strong>Authorization</strong>: <em>(string)</em><p><small><strong>Example</strong>:<pre><code>none if annonymous user journey.</code></pre></small></p></li></ul><h3>Query Parameters</h3><ul><li><strong>pageSize</strong> <em>(integer)</em><p>The number of results per page</p><p><small><strong>Example</strong>:<pre><code>20</code></pre></small></p></li><li><strong>offset</strong> <em>(number)</em><p>The number of results to skip. It goes along with the pageSize. If offset = 0, the first 20 results will be retuened by the service i.e. first page of the results will be returned. If offset = 20, then results from 21st item to next 20 items will be returned i.e. second page of results will be returned and so on.</p></li><li><strong>key</strong> <em>required (string)</em><p>Search Key - plus sign delimited string of keys (id1+id2+id3). Max number of identifiers to be sent down are configurable in pipeline.</p></li><li><strong>keyType</strong> <em>required one of (TPNB,TPNC,GTIN,TAXONOMY_ID)</em><p>type of key.</p></li><li><strong>orderBy</strong> <em>one of (default,priceAZ,priceZA,TitleAZ,TitleZA)</em><p>Sort by parameter.</p></li></ul></div><div class=tab-pane id=__region__products__get_response><h2>HTTP status code <a href=http://httpstatus.es/200 target=_blank>200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><small><strong>Schema</strong>:<pre><code>{
  "title": "productList",
  "type": "object",
  "$schema": "http://json-schema.org/draft-03/schema",
  "additionalProperties": false,
  "required": false,
  "properties": {
    "items": {
      "type": "array",
      "required": false,
      "items": {
        "$ref": "product.json"
      },
      "Description": "type owned by product pipeline"
    },
    "totalCount": {
      "type": "integer",
      "required": true
    }
  }
}</code></pre></small></p><p><small><strong>Example</strong>:<pre><code>{
  "totalCount": 2,
  "items":[
  {
    "onlineExclusive": false,
    "TPNC": "2442424",
    "TPNB": "07242424",
    "GTIN": "n/a",
    "customerFriendlyDescription": "nestle milk choc",
    "description": "nestle milk choc",
    "images": [
      {
        "id": null,
        "url": "../small.jpeg",
        "width": 10,
        "height": 20,
        "default": false
      },
      {
        "id": "med",
        "url": "../med.jpeg",
        "width": 90,
        "height": 70,
        "default": true
      }
    ],
    "brand": "nestle",
    "status": "AvailableForSale",
    "productInList": {
      "favourites": false,
      "shoppingList": false
    },
    "bulkBuy": {
      "groupLimitId": "n/a",
      "groupLimit": 0,
      "limit": 5
    },
    "primaryTaxonomyId": "to_3444",
    "primaryTaxonomyName": "milk bars",
    "restrictedDeliveryGroup": "n/a",
    "restrictedDeliveryTime": "n/a",
    "sellByType": "catchWeight",
    "catchWeight": {
      "minWeight": 1,
      "maxWeight": 3.5,
      "increment": 0.5
    },
    "price": {
      "currency": "GBP",
      "sellingUOM": "EACH",
      "sellingPrice": 1.52,
      "perUnit": 1.52,
      "regularPrice": 0.0
    },
    "offers": [
      {
        "id": "4222/1",
        "name": "Buy one get one free",
        "category": "Cashreward",
        "validFrom": "2014-11-21T14:11:56.4339045+00:00",
        "validTo": "2014-11-24T14:11:56.4349046+00:00",
        "customerFriendlyDescription": "Buy 1 Get 1",
        "iconType": "2For1"
      }
    ]
  }
]
}</code></pre></small></p><h2>HTTP status code <a href=http://httpstatus.es/400 target=_blank>400</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><small><strong>Schema</strong>:<pre><code>{
  "title": "Pipeline Error Schema",
  "type": "object",
  "$schema": "http://json-schema.org/draft-03/schema",
  "properties": {
    "code": {
      "required": true,
      "description":"Pipeline Error Code",
      "type": "string"
    },
    "message": {
      "required": true,
      "description":"Pipeline Error Message",
      "type": "string"
    },
    "detail": {
      "required": false,
      "description":"Additional details from the underlying service. At the minimum, a concatinated string of [Error Code] : [Error Message] from the underlying service",
      "type": "string"
    },
    "source": {
      "required": true,
      "description":"Source from where the exception originated - Pipeline or Underlying Service",
      "type": "string"
    },
    "timeStamp": {
      "required": true,
      "description":"Pipeline Server time stamp when this exception was thrown",
      "type": "string"
    }
  }
}</code></pre></small></p><p><small><strong>Example</strong>:<pre><code>{
"code" : "PIPELINE-003",
"message" : "Exception from Enterprise Service",
"detail" : "[404] - Product(s) not found",
"source" : "Enterprise Service",
"timeStamp" : "2014-12-03T10:10:10"
}</code></pre></small></p><h2>HTTP status code <a href=http://httpstatus.es/500 target=_blank>500</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><small><strong>Schema</strong>:<pre><code>{
  "title": "Pipeline Error Schema",
  "type": "object",
  "$schema": "http://json-schema.org/draft-03/schema",
  "properties": {
    "code": {
      "required": true,
      "description":"Pipeline Error Code",
      "type": "string"
    },
    "message": {
      "required": true,
      "description":"Pipeline Error Message",
      "type": "string"
    },
    "detail": {
      "required": false,
      "description":"Additional details from the underlying service. At the minimum, a concatinated string of [Error Code] : [Error Message] from the underlying service",
      "type": "string"
    },
    "source": {
      "required": true,
      "description":"Source from where the exception originated - Pipeline or Underlying Service",
      "type": "string"
    },
    "timeStamp": {
      "required": true,
      "description":"Pipeline Server time stamp when this exception was thrown",
      "type": "string"
    }
  }
}</code></pre></small></p><p><small><strong>Example</strong>:<pre><code>{
"code" : "PIPELINE-002",
"message" : "Exception from Enterprise Service",
"detail" : "[503] - Gateway timeout connecting to underlying Product Service",
"source" : "Enterprise Service",
"timeStamp" : "2014-12-03T10:10:10"
}</code></pre></small></p></div></div></div></div></div></div></div></div></div></div></div><div class=col-md-3><div id=sidebar class="hidden-print affix" role=complementary><ul class="nav nav-pills nav-stacked"><li><a href=#__region__products_>/{region}/products/</a></li></ul></div></div></div></div></body></html>